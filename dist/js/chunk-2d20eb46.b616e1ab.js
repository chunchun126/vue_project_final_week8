(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20eb46"],{b101:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("navbar"),t.checkSuccesss?n("router-view",{attrs:{token:t.token}}):t._e()],1)},s=[],o=(n("ac1f"),n("5319"),function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[n("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("後台管理系統")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNavAltMarkup"}},[n("div",{staticClass:"navbar-nav"},[n("router-link",{staticClass:"nav-item nav-link",attrs:{to:{name:"產品"}}},[t._v("產品列表")]),n("router-link",{staticClass:"nav-item nav-link",attrs:{to:{name:"訂單"}}},[t._v("訂單列表")]),n("router-link",{staticClass:"nav-item nav-link",attrs:{to:{name:"優惠券"}}},[t._v("優惠券列表")]),n("router-link",{staticClass:"nav-item nav-link",attrs:{to:{name:"圖片儲存"}}},[t._v("圖片儲存列表")]),n("router-link",{staticClass:"nav-item nav-link",attrs:{to:"/"}},[t._v("回前台")])],1)])])])}),c=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],r={},i=r,l=n("2877"),u=Object(l["a"])(i,o,c,!1,null,null,null),v=u.exports,h={name:"Dashboard",components:{Navbar:v},data:function(){return{token:"",checkSuccesss:!1}},created:function(){this.checkLogin()},methods:{checkLogin:function(){var t=this;this.token=document.cookie.replace(/(?:(?:^|.*;\s*)myToken\s*=\s*([^;]*).*$)|^.*$/,"$1"),this.$http.defaults.headers.common.Authorization="Bearer ".concat(this.token),console.log("取出 token ".concat(this.token));var a="".concat("https://course-ec-api.hexschool.io/api","/auth/check");this.$http.post(a,{api_token:this.token}).then((function(a){t.checkSuccesss=!0,console.log("驗證成功",a),t.$bus.$emit("message:push","驗證成功 ".concat(a.data.message),"successs")})).catch((function(a){console.log("驗證失敗",a.response),t.$router.push("/login")}))}}},k=h,p=Object(l["a"])(k,e,s,!1,null,null,null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d20eb46.b616e1ab.js.map