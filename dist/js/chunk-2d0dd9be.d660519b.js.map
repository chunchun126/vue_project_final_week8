{"version":3,"sources":["webpack:///./src/views/frontend/Products.vue?0896","webpack:///src/views/frontend/Products.vue","webpack:///./src/views/frontend/Products.vue?d1b1","webpack:///./src/views/frontend/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","isLoading","on","$event","_m","_l","item","key","id","preventDefault","goPage","imageUrl","_v","_s","title","category","_f","origin_price","price","addToCart","staticRenderFns","data","products","created","getProducts","methods","$http","get","console","log","$router","push","product","quantity","cart","post","url","component"],"mappings":"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","file":"js/chunk-2d0dd9be.d660519b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"products\"},[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_vm._m(0),_c('section',{staticClass:\"section\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.products),function(item){return _c('div',{key:item.id,staticClass:\"col-md-4 mb-5\"},[_c('div',{staticClass:\"card rounded-0 border-0 text-center\"},[_c('a',{staticClass:\"d-block item-img\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(item)}}},[_vm._m(1,true),_c('img',{staticClass:\"card-img-top rounded-0\",attrs:{\"src\":item.imageUrl}})]),_c('div',{staticClass:\"card-body p-2\"},[_vm._m(2,true),_c('h6',{staticClass:\"font-weight-light product-title mb-0 mt-2\"},[_vm._v(_vm._s(item.title)+\" \"),_c('small',{staticClass:\"badge rounded-0 ml-1 mb-2 border border-dark\"},[_vm._v(\" \"+_vm._s(item.category)+\" \")])]),_c('p',{staticClass:\"card-text origin-price mb-1\"},[_vm._v(\"定價 NT$\"+_vm._s(_vm._f(\"thousands\")(item.origin_price)))]),_c('p',{staticClass:\"card-text price\"},[_c('small',{staticClass:\"mr-2\"},[_vm._v(\"優惠價\")]),_c('span',[_vm._v(\"NT$\"+_vm._s(_vm._f(\"thousands\")(item.price)))])]),_c('a',{staticClass:\"btn btn-outline-primary btn-sm rounded-0 w-100\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addToCart(item.id)}}},[_c('i',{staticClass:\"fas fa-shopping-bag mr-1\"}),_c('small',[_vm._v(\"加入購物袋\")])])])])])}),0)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"banner\"})])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"caption\"},[_vm._v(\"More Detail\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fav-group text-primary\"},[_c('label',{staticClass:\"ui-checked-display\"},[_c('input',{staticClass:\"ui-checkbox\",attrs:{\"type\":\"checkbox\"}}),_c('i',{staticClass:\"material-icons ui-show\"},[_vm._v(\" favorite \")]),_c('i',{staticClass:\"material-icons ui-hidden\"},[_vm._v(\" favorite_border \")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"products\">\n    <loading :active.sync=\"isLoading\"></loading>\n    <!-- banner -->\n    <header>\n      <div class=\"container\">\n        <div class=\"banner\"></div>\n      </div>\n    </header>\n    <section class=\"section\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-4 mb-5\"\n            v-for=\"item in products\" :key=\"item.id\">\n            <div class=\"card rounded-0 border-0 text-center\">\n              <a href=\"#\" @click.prevent=\"goPage(item)\" class=\"d-block item-img\">\n                <div class=\"mask\">\n                  <div class=\"caption\">More Detail</div>\n                </div>\n                <img :src=\"item.imageUrl\"\n                  class=\"card-img-top rounded-0\">\n              </a>\n              <div class=\"card-body p-2\">\n                <!-- 愛心checkbox -->\n                <div class=\"fav-group text-primary\">\n                  <label class=\"ui-checked-display\">\n                    <input type=\"checkbox\" class=\"ui-checkbox\">\n                    <i class=\"material-icons ui-show\">\n                      favorite\n                    </i>\n                    <i class=\"material-icons ui-hidden\">\n                      favorite_border\n                    </i>\n                  </label>\n                </div>\n                <!-- <h5 class=\"card-title mb-2 eng-title h5\">{{ item.content }}</h5> -->\n                <h6 class=\"font-weight-light product-title mb-0 mt-2\">{{ item.title }}\n                  <small class=\"badge rounded-0 ml-1 mb-2 border border-dark\">\n                    {{ item.category }}\n                  </small>\n                </h6>\n                <p class=\"card-text origin-price mb-1\">定價 NT${{ item.origin_price | thousands }}</p>\n                <p class=\"card-text price\">\n                  <small class=\"mr-2\">優惠價</small>\n                  <span>NT${{ item.price | thousands }}</span>\n                </p>\n                <a href=\"#\" class=\"btn btn-outline-primary btn-sm rounded-0 w-100\"\n                  @click.prevent=\"addToCart(item.id)\">\n                  <i class=\"fas fa-shopping-bag mr-1\"></i>\n                  <small>加入購物袋</small>\n                </a>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      isLoading: false,\n    };\n  },\n  created() {\n    this.getProducts();\n  },\n  methods: {\n    // 取所有產品列表\n    getProducts() {\n      this.isLoading = true;\n      this.$http.get(`${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/products`)\n        .then((res) => {\n          this.isLoading = false;\n          this.products = res.data.data;\n          console.log('取所有產品列表 成功', res);\n        })\n        .catch((error) => {\n          this.isLoading = false;\n          console.log(error.response);\n        });\n    },\n    // 到單一產品細節頁面\n    goPage(item) {\n      console.log(this.$router);\n      // 方法 $router.push 切換頁面\n      this.$router.push(`/product/${item.id}`);\n    },\n    // 加到購物車\n    addToCart(item, quantity = 1) { // 需代入 商品 id 及 商品數量（因為 api 文件上為 required）\n      // quantity=1 參數預設值給 1（因為最少會加入 1 個產品，不會加 0 個）\n      // 宣告新增某一筆購物車資料的 api\n      const url = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`;\n      // 還沒取得資料時的讀取效果\n      this.isLoading = true;\n      const cart = {\n        product: item, // id 透過參數的方式代入\n        quantity, // quantity: quantity 的簡寫，數量也是透過參數的方式代入\n      };\n      console.log(cart); // 比對傳回來的值是否和文件一樣\n      // AJAX\n      this.$http.post(url, cart) // （網址, 要傳送的物件）\n        // 成功\n        .then((res) => {\n          this.isLoading = false; // 移除 loading 效果\n          console.log('加到購物車 成功', res);\n          alert('成功加到購物車。');\n          this.$router.push('/cart');\n        })\n        // 失敗\n        .catch((error) => {\n          this.isLoading = false; // 移除 loading 效果\n          console.log(error.response); // 回傳錯誤的訊息\n          alert(error.response.data.errors[0]);\n          this.$router.push('/cart');\n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=9f471146&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}